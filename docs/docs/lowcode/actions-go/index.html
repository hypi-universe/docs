<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Hypi Platform Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Hypi Platform Documentation Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120274358-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-120274358-1",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Hypi Platform Documentation" href="/opensearch.xml"><title data-react-helmet="true">Go actions | Hypi Platform Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.hypi.app/docs/lowcode/actions-go"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Go actions | Hypi Platform Documentation"><meta data-react-helmet="true" name="description" content="OpenWhisk requires a JSON object as output. Hence, serverless function cannot return arrays. It must return an object at the top level which can have arrays inside it."><meta data-react-helmet="true" property="og:description" content="OpenWhisk requires a JSON object as output. Hence, serverless function cannot return arrays. It must return an object at the top level which can have arrays inside it."><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.hypi.app/docs/lowcode/actions-go"><link data-react-helmet="true" rel="alternate" href="https://docs.hypi.app/docs/lowcode/actions-go" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.hypi.app/docs/lowcode/actions-go" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://OR6SSGNSLB-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.795db178.css">
<link rel="preload" href="/assets/js/runtime~main.2f1ec134.js" as="script">
<link rel="preload" href="/assets/js/main.60f604d9.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_wv3w">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Hypi Logo" class="themedImage_MSPW themedImage--light_wHoI"><img src="/img/logo.png" alt="Hypi Logo" class="themedImage_MSPW themedImage--dark_hQyA"></div><b class="navbar__title">Hypi</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a href="https://hypi.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Main website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_BGZT"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://hypi.app" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Register or Login<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_BGZT"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/hypi-universe/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_BGZT"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_nrys toggle_MgWk toggleDisabled_BlY8"><div class="toggleTrack_CRsS" role="button" tabindex="-1"><div class="toggleTrackCheck_HKEn"><span class="toggleIcon_rGl7">ðŸŒœ</span></div><div class="toggleTrackX_KNPL"><span class="toggleIcon_rGl7">ðŸŒž</span></div><div class="toggleTrackThumb_MGVi"></div></div><input type="checkbox" class="toggleScreenReader_PgvV" aria-label="Switch between dark and light mode"></div><div class="searchBox_kyqE"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_uMdt"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_DgRZ" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_D8w4"><div class="sidebar_neyF"><nav class="menu thin-scrollbar menu_WJjW"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_XeC1" href="/docs/hypi-tink-intro">Welcome</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_XeC1" href="/docs/hypi-tink-mood">Mood Board</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_XeC1" href="/docs/hypi-tink-stories">Stories Board</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_XeC1" href="/docs/hypi-tink-stories">Stories Board</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_XeC1" href="/docs/stories-data-tables">Data Tables</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_XeC1" href="/docs/hypi-tink-designer">Designer Board</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_XeC1" href="/docs/widget-groups">Widget</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_XeC1" href="/docs/designer-logic">Logic</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/hypi-tink-glossary">Glossary</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_XeC1" aria-current="page" href="/docs/lowcode/">Lowcode</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_XeC1" tabindex="0" href="/docs/lowcode/">Hypi - Low Code Backend</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_XeC1" tabindex="0" href="/docs/lowcode/api-references">API &amp; References</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_XeC1" tabindex="0" href="/docs/lowcode/serverless">Serverless</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_XeC1" aria-current="page" tabindex="0" href="/docs/lowcode/actions-nodejs">Serverless: Language Support</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lowcode/actions-nodejs">JavaScript actions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lowcode/actions-python">Python actions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lowcode/actions-java">Java actions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lowcode/actions-swift">Swift actions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/lowcode/actions-go">Go actions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lowcode/actions-php">PHP actions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lowcode/actions-ruby">Ruby actions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lowcode/actions-rust">Rust actions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lowcode/actions-dotnet">.NET actions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lowcode/actions-docker">Docker actions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_XeC1" tabindex="0" href="/docs/lowcode/hypi-cli-intro">Hypi CLI</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_XeC1" tabindex="0" href="/docs/lowcode/graphql">GraphQL</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_XeC1" tabindex="0" href="/docs/lowcode/core">System Apps</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_XeC1" tabindex="0" href="/docs/lowcode/react-todo-app">Example Apps</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lowcode/hypi-angular">Hypi + Angular</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_XeC1" tabindex="0" href="/docs/lowcode/tutorials">Tutorial</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_XeC1" tabindex="0" href="/docs/lowcode/ui-create-app">User Interface Guide</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lowcode/glossary">Glossary</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lowcode/get-involved">Get Involved!</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_WBVt"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VRn9"><div class="docItemContainer_NEVZ"><article><div class="tocCollapsible_UA1s theme-doc-toc-mobile tocMobile_n2Hs"><button type="button" class="clean-btn tocCollapsibleButton_gHvH">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Go actions</h1></header><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>OpenWhisk requires a JSON object as output. Hence, serverless function cannot return arrays. It must return an object at the top level which can have arrays inside it.</p></div></div><p>The <code>action-golang-v1.11</code> runtime can execute actions written in the Go programming language in OpenWhisk, either as precompiled binary or compiling sources on the fly.</p><h3 class="anchor anchorWithStickyNavbar_YmL6" id="entry-point">Entry Point<a class="hash-link" href="#entry-point" title="Direct link to heading">â€‹</a></h3><p>The source code of an action is one or more Go source files. The entry point of the action is a function, placed in the <code>main</code> package. The default name for the main function is <code>Main</code>, but you can change it to any name you want using the <code>--main</code> switch in <code>wsk</code>. The name is however always capitalized. The function must have a specific signature, as described next.</p><p><em>NOTE</em> The runtime does <em>not</em> support different packages from <code>main</code> for the entry point. If you specify <code>hello.main</code> the runtime will try to use <code>Hello.main</code>, that will be almost certainly incorrect. You can however have other packages in your sources, as described below.</p><h3 class="anchor anchorWithStickyNavbar_YmL6" id="signature">Signature<a class="hash-link" href="#signature" title="Direct link to heading">â€‹</a></h3><p>The expected signature for a <code>main</code> function is:</p><p><code>func Main(event map[string]interface{}) map[string]interface{}</code></p><p>So a very simple single file <code>hello.go</code> action would be:</p><div class="codeBlockContainer_B_Na language-go theme-code-block"><div class="codeBlockContent_wujv go"><pre tabindex="0" class="prism-code language-go codeBlock_lQkV thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_wrhE"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">package</span><span class="token plain"> main</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;log&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Main is the function implementing the action</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">func</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">Main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">obj </span><span class="token keyword" style="font-style:italic">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token keyword" style="font-style:italic">interface</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token keyword" style="font-style:italic">interface</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// do your work</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> ok </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> obj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;name&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain">ok </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    name </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;world&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  msg </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token keyword" style="font-style:italic">interface</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  msg</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;message&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Hello, &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> name </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;!&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// log in stdout or in stderr</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Printf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;name=%s\n&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// encode the result back in json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> msg</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_RNM0 clean-btn">Copy</button></div></div><p>You can deploy it with just:</p><div class="codeBlockContainer_B_Na theme-code-block"><div class="codeBlockContent_wujv"><pre tabindex="0" class="prism-code language-text codeBlock_lQkV thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_wrhE"><span class="token-line" style="color:#bfc7d5"><span class="token plain">wsk action create hello-go hello.go</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_RNM0 clean-btn">Copy</button></div></div><p>You can also have multiple source files in an action, packages and vendor folders.</p><h3 class="anchor anchorWithStickyNavbar_YmL6" id="deployment">Deployment<a class="hash-link" href="#deployment" title="Direct link to heading">â€‹</a></h3><p>The runtime <code>action-golang-v1.11</code> accepts:</p><ul><li>executable binaries in Linux ELF executable compiled for the AMD64 architecture</li><li>zip files containing a binary executable named <code>exec</code> at the top level, again a Linux ELF executable compiled for the AMD64 architecture</li><li>a single source file in Go, that will be compiled</li><li>a zip file not containing in the top level a binary file <code>exec</code>, it will be interpreted as a collection of source files in Go, and compiled</li></ul><p>You can create a binary in the correct format on any Go platform cross-compiling with <code>GOOS=Linux</code> and <code>GOARCH=amd64</code>. However it is recommended you use the compiler embedded in the Docker image for this purpose using the precompilation feature, as described below.</p><h3 class="anchor anchorWithStickyNavbar_YmL6" id="using-packages-and-vendor-folder">Using packages and vendor folder<a class="hash-link" href="#using-packages-and-vendor-folder" title="Direct link to heading">â€‹</a></h3><p>When you deploy a zip file, you can:</p><ul><li>have all your functions in the <code>main</code> package</li><li>have some functions placed in some packages, like <code>hello</code></li><li>have some third party dependencies you want to include in your sources</li></ul><p>If all your functions are in the main package, just place all your sources in the top level of your zip file.</p><h4 class="anchor anchorWithStickyNavbar_YmL6" id="use-a-package-folder">Use a package folder<a class="hash-link" href="#use-a-package-folder" title="Direct link to heading">â€‹</a></h4><p>If some functions belongs to a package, like <code>hello/</code>, you need to be careful with the layout of your sources, especially if you use editors like <a href="#vscode">VcCode</a>, and make. The layout recommended is the following:</p><div class="codeBlockContainer_B_Na theme-code-block"><div class="codeBlockContent_wujv"><pre tabindex="0" class="prism-code language-text codeBlock_lQkV thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_wrhE"><span class="token-line" style="color:#bfc7d5"><span class="token plain">golang-main-package/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- Makefile</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- src/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   - main.go</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   - main_test.go</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   - hello/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       - hello.go</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       - hello_test.go</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_RNM0 clean-btn">Copy</button></div></div><p>For running tests, editing without errors with package resolution, you need to use a <code>src</code> folder, place the sources that belongs to the main package in the <code>src</code> and place sources of your package in the <code>src/hello</code> folder.</p><p>You should import it your subpackage with <code>import &quot;hello&quot;</code>.
Note this means if you want to compile locally you have to set your <code>GOPATH</code> to parent of your <code>src</code> directory. If you use VSCode, you need to enable the <code>go.inferGopath</code> option.</p><p>When you send the sources, you will have to zip the content of the <code>src</code> folder, <em>not</em> the main directory. For example:</p><div class="codeBlockContainer_B_Na theme-code-block"><div class="codeBlockContent_wujv"><pre tabindex="0" class="prism-code language-text codeBlock_lQkV thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_wrhE"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd src</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">zip -r ../hello.zip *</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd ..</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">wsk action create hellozip hello.zip --kind go:1.11</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_RNM0 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_YmL6" id="using-vendor-folders">Using vendor folders<a class="hash-link" href="#using-vendor-folders" title="Direct link to heading">â€‹</a></h4><p>When you need to use third party libraries, the runtime does not download them from Internet when compiling. You have to provide them,  downloading and placing them using the <code>vendor</code> folder mechanism. We are going to show here how to use the vendor folder with the <code>dep</code> tool.</p><p><em>NOTE</em> the <code>vendor</code> folder does not work at the top level, you have to use a <code>src</code> folder and a package folder to have also the <code>vendor</code> folder. If you want use the vendor folder for the <code>main</code> package, you can do it but instead of placing files that belongs to the <code>main</code> package in the top-level, you have to place in a subfolder named <code>main</code>.</p><p>For example consider you have in the file <code>src/hello/hello.go</code> the import:</p><div class="codeBlockContainer_B_Na theme-code-block"><div class="codeBlockContent_wujv"><pre tabindex="0" class="prism-code language-text codeBlock_lQkV thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_wrhE"><span class="token-line" style="color:#bfc7d5"><span class="token plain">import &quot;github.com/sirupsen/logrus&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_RNM0 clean-btn">Copy</button></div></div><p>To create a vendor folder, you need to</p><ul><li>install the <a href="https://github.com/golang/dep" target="_blank" rel="noopener noreferrer">dep</a> tool</li><li>cd to the <code>src/hello</code> folder (<em>not</em> the <code>src</code> folder)</li><li>run <code>DEPPROJECTROOT=$(realpath $PWD/../..) dep init</code> the first time</li></ul><p>The tool will detect the used libraries and create 2 manifest files <code>Gopkg.lock</code> and <code>Gopkg.toml</code>. If already have the manifest files, you just need <code>dep ensure</code> to create and populate the <code>vendor</code> folder.</p><p>The layout will be something like this:</p><div class="codeBlockContainer_B_Na theme-code-block"><div class="codeBlockContent_wujv"><pre tabindex="0" class="prism-code language-text codeBlock_lQkV thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_wrhE"><span class="token-line" style="color:#bfc7d5"><span class="token plain">golang-hello-vendor</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- Makefile</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- src/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - hello.go</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - hello/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - Gopkg.lock</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - Gopkg.toml</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         - hello.go</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         - hello_test.go</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         - vendor/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            - github.com/...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            - golang.org/...</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_RNM0 clean-btn">Copy</button></div></div><p>Note you do not need to store the <code>vendor</code> folder in the version control system as it can be regenerated, you only the manifest files. However, you need to include the entire vendor folder when you deploy the action in source format for compilation by the runtime.</p><p>If you need to use vendor folder in the main package, you need to create a directory <code>main</code> and place all the source code that would normally go in the top level, in the <code>main</code> folder instead.  A vendor folder in the top level <em>does not work</em>.</p><a name="precompile"></a><h3 class="anchor anchorWithStickyNavbar_YmL6" id="precompiling-go-sources-offline">Precompiling Go Sources Offline<a class="hash-link" href="#precompiling-go-sources-offline" title="Direct link to heading">â€‹</a></h3><p>Compiling sources on the image can take some time when the images is initialized. You can speed up precompiling the sources using the image <code>action-golang-v1.11</code> as an offline compiler. You need <code>docker</code> for doing that.</p><p>The images accepts a <code>-compile &lt;main&gt;</code> flag, and expects you provide sources in standard input. It will then compile them, emit the binary in standard output and errors in stderr. The output is always a zip file containing an executable.</p><p>If you have a single source maybe in file <code>main.go</code>, with a function named <code>Main</code> just do this:</p><p><code>docker run openwhisk/action-golang-v1.11 -compile main &lt;main.go &gt;main.zip</code></p><p>If you have multiple sources in current directory, even with a subfolder with sources, you can compile it all with:</p><div class="codeBlockContainer_B_Na theme-code-block"><div class="codeBlockContent_wujv"><pre tabindex="0" class="prism-code language-text codeBlock_lQkV thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_wrhE"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd src</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">zip -r ../src.zip *</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd ..</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker -i run openwhisk/action-golang-v1.11 -compile main &lt;src.zip &gt;exec.zip</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_RNM0 clean-btn">Copy</button></div></div><p>Note that the output is always a zip file in  Linux AMD64 format so the executable can be run only inside a Docker Linux container.</p><p>Here a <code>Makefile</code> is helpful. Check the <a href="https://github.com/apache/openwhisk-runtime-go/tree/master/examples" target="_blank" rel="noopener noreferrer">examples</a> for a collection of tested Makefiles. The  generated executable is suitable to be deployed in OpenWhisk, so you can do:</p><p><code>wsk action create my-action exec.zip --kind go:1.11</code></p><p>You can also use just the <code>openwhisk/actionloop</code> as runtime, it is smaller.</p><div class="codeBlockContainer_B_Na theme-code-block"><div class="codeBlockContent_wujv"><pre tabindex="0" class="prism-code language-text codeBlock_lQkV thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_wrhE"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;a name=&quot;vscode&quot;&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_RNM0 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_YmL6" id="using-vscode">Using VsCode<a class="hash-link" href="#using-vscode" title="Direct link to heading">â€‹</a></h4><p>If you are using <a href="https://code.visualstudio.com/" target="_blank" rel="noopener noreferrer">VsCode</a> as your Go development environment with the <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.Go" target="_blank" rel="noopener noreferrer">VsCode Go</a> support, without errors and with completion working you need to:</p><ul><li>enable the option <code>go.inferGopath</code></li><li>place all your sources in a <code>src</code> folder</li><li>either to open the <code>src</code> folder as the top level source or add it as a folder in the workspace (it is not enough just have it as a subfolder)</li><li>create a <code>dummy.go</code> an empty main - it will not be used but it will shut up &quot;<code>main.main</code> missing error detection&quot;</li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Large portions of this page is copied from the <a href="https://github.com/apache/openwhisk/tree/master/docs" target="_blank" rel="noopener noreferrer">Apache OpenWhisk documentation</a> on April 23rd 2021 - where there have been customisations to match Hypi&#x27;s deployment this has been noted. Apache OpenWhisk and the Apache name are the property of the Apache Foundation and licensed under the <a href="https://github.com/apache/openwhisk/blob/master/LICENSE.txt" target="_blank" rel="noopener noreferrer">Apache V2 license</a> .</p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/hypi-universe/docs/edit/master/content/lowcode/actions-go.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_St0i" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_Xcjv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/lowcode/actions-swift"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Swift actions</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/lowcode/actions-php"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">PHP actions</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_FUlz thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#entry-point" class="table-of-contents__link toc-highlight">Entry Point</a></li><li><a href="#signature" class="table-of-contents__link toc-highlight">Signature</a></li><li><a href="#deployment" class="table-of-contents__link toc-highlight">Deployment</a></li><li><a href="#using-packages-and-vendor-folder" class="table-of-contents__link toc-highlight">Using packages and vendor folder</a></li><li><a href="#precompiling-go-sources-offline" class="table-of-contents__link toc-highlight">Precompiling Go Sources Offline</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/lowcode/get-started/">Get Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/lowcode/authentication">Authentication</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/lowcode/arcql">Filtering your data</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/lowcode/crud">GraphQL CRUD APIs</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/lowcode/rest-apis">REST APIs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://hypi.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Support Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_BGZT"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://hypi.app" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Platform<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_BGZT"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://hypi.io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_BGZT"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/hypi-universe/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_BGZT"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Hypi.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.2f1ec134.js"></script>
<script src="/assets/js/main.60f604d9.js"></script>
</body>
</html>