"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1152],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=a.createContext({}),s=function(e){var t=a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=s(e.components);return a.createElement(u.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,u=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=s(n),m=r,h=d["".concat(u,".").concat(m)]||d[m]||c[m]||i;return n?a.createElement(h,o(o({ref:t},p),{},{components:n})):a.createElement(h,o({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var u in t)hasOwnProperty.call(t,u)&&(l[u]=t[u]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var s=2;s<i;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},1332:function(e,t,n){var a=n(7294);t.Z=function(e){var t=e.children,n=e.hidden,r=e.className;return a.createElement("div",{role:"tabpanel",hidden:n,className:r},t)}},8515:function(e,t,n){n.d(t,{Z:function(){return p}});var a=n(7462),r=n(7294),i=n(2389),o=n(5394),l=n(6010),u="tabItem_tAz6";function s(e){var t,n,i,s=e.lazy,p=e.block,c=e.defaultValue,d=e.values,m=e.groupId,h=e.className,f=r.Children.map(e.children,(function(e){if((0,r.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),v=null!=d?d:f.map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes}})),y=(0,o.lx)(v,(function(e,t){return e.value===t.value}));if(y.length>0)throw new Error('Docusaurus error: Duplicate values "'+y.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var b=null===c?c:null!=(t=null!=c?c:null==(n=f.find((function(e){return e.props.default})))?void 0:n.props.value)?t:null==(i=f[0])?void 0:i.props.value;if(null!==b&&!v.some((function(e){return e.value===b})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+b+'" but none of its children has the corresponding value. Available values are: '+v.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var k=(0,o.UB)(),g=k.tabGroupChoices,q=k.setTabGroupChoices,N=(0,r.useState)(b),w=N[0],T=N[1],Q=[],O=(0,o.o5)().blockElementScrollPositionUntilNextRender;if(null!=m){var j=g[m];null!=j&&j!==w&&v.some((function(e){return e.value===j}))&&T(j)}var E=function(e){var t=e.currentTarget,n=Q.indexOf(t),a=v[n].value;a!==w&&(O(t),T(a),null!=m&&q(m,a))},x=function(e){var t,n=null;switch(e.key){case"ArrowRight":var a=Q.indexOf(e.currentTarget)+1;n=Q[a]||Q[0];break;case"ArrowLeft":var r=Q.indexOf(e.currentTarget)-1;n=Q[r]||Q[Q.length-1]}null==(t=n)||t.focus()};return r.createElement("div",{className:"tabs-container"},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":p},h)},v.map((function(e){var t=e.value,n=e.label,i=e.attributes;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:w===t?0:-1,"aria-selected":w===t,key:t,ref:function(e){return Q.push(e)},onKeyDown:x,onFocus:E,onClick:E},i,{className:(0,l.Z)("tabs__item",u,null==i?void 0:i.className,{"tabs__item--active":w===t})}),null!=n?n:t)}))),s?(0,r.cloneElement)(f.filter((function(e){return e.props.value===w}))[0],{className:"margin-vert--md"}):r.createElement("div",{className:"margin-vert--md"},f.map((function(e,t){return(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==w})}))))}function p(e){var t=(0,i.Z)();return r.createElement(s,(0,a.Z)({key:String(t)},e))}},6063:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return p},metadata:function(){return c},toc:function(){return d},default:function(){return h}});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),o=n(8515),l=n(1332),u=["components"],s={id:"gql-queries",title:"GraphQL Queries",sidebar_label:"GraphQL Queries",slug:"/lowcode/gql-queries"},p=void 0,c={unversionedId:"lowcode/gql-queries",id:"lowcode/gql-queries",title:"GraphQL Queries",description:"Every GraphQL schema has a root type for both queries and mutations. The query type defines GraphQL operations that retrieve data from the server.",source:"@site/content/lowcode/gql-queries.md",sourceDirName:"lowcode",slug:"/lowcode/gql-queries",permalink:"/docs/lowcode/gql-queries",editUrl:"https://github.com/hypi-universe/docs/edit/master/content/lowcode/gql-queries.md",tags:[],version:"current",frontMatter:{id:"gql-queries",title:"GraphQL Queries",sidebar_label:"GraphQL Queries",slug:"/lowcode/gql-queries"},sidebar:"docs",previous:{title:"GraphQL Schema and Types",permalink:"/docs/lowcode/gql-schema-types"},next:{title:"GraphQL Mutations",permalink:"/docs/lowcode/gql-mutations"}},d=[{value:"GraphQL API",id:"graphql-api",children:[],level:2},{value:"Authorization",id:"authorization",children:[],level:2},{value:"Query Variables",id:"query-variables",children:[],level:2},{value:"Nested queries",id:"nested-queries",children:[],level:2}],m={toc:d};function h(e){var t=e.components,n=(0,r.Z)(e,u);return(0,i.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Every GraphQL schema has a root type for both queries and mutations. The query type defines GraphQL operations that retrieve data from the server."),(0,i.kt)("p",null,"GraphQL queries return only the data you define. To construct a query, you must identify fields within fields ( known as nested subfields) continuously, until you return only scalars."),(0,i.kt)("h2",{id:"graphql-api"},"GraphQL API"),(0,i.kt)("p",null,"The GraphQL API has a single endpoint: ",(0,i.kt)("inlineCode",{parentName:"p"},"https://api.hypi.app/graphql"),". Queries are sent to this endpoint. "),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Note:  Arcql is Hypi's SQL-like query language used to filter, sort, and paginate data in the platform.")),(0,i.kt)("p",null,"You should construct queries like this:"),(0,i.kt)(o.Z,{defaultValue:"query",values:[{label:"GraphQL Query",value:"query"},{label:"Input Data",value:"data"},{label:"Response",value:"response"}],mdxType:"Tabs"},(0,i.kt)(l.Z,{value:"query",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"query getMyTodos($arcql:String) {\n   todos(arcql:$arcql) {\n     hypi {\n        id\n        created\n      }\n     description\n     completed\n   }\n}\n"))),(0,i.kt)(l.Z,{value:"data",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'{\n    "arcql": "* SORT hypi.updated DESC"\n }\n'))),(0,i.kt)(l.Z,{value:"response",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n       "data": {\n         "todos": [\n           {\n              "hypi": {\n               "id": "c94144ec-52aa-4337-9d8b-15fa8ec5c979"\n               "created": "2019-11-02T15:45:16Z"\n               }\n              "description": "Buy milk for the office",\n              "completed":"false",\n            },\n        ]\n     }\n }\n')))),(0,i.kt)("h2",{id:"authorization"},"Authorization"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Note:"),"  You need to pass the Authorization ",(0,i.kt)("inlineCode",{parentName:"p"},"token")," header before querying to get the results. Here's an Example of setting up your header with auth token. Read more about Authorization ",(0,i.kt)("a",{parentName:"p",href:"/docs/lowcode/authorisation"},"here"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "url": "https://api.hypi.app/graphql/",\n  "headers": {\n       "Authorization":\n        "Auth Token here. It can be copied from the Developer Hub",\n       "hypi-domain": "my-domain.com" # instance API domain\n  }\n}\n')),(0,i.kt)("h2",{id:"query-variables"},"Query Variables"),(0,i.kt)("p",null,"GraphQL Variables makes queries more dynamic and powerful, and they reduce complexity when passing mutation input objects. ",(0,i.kt)("strong",{parentName:"p"},"Here you can see variables in its simplest form.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'query findTodoItem($arcql:String) {\n     todos(arcql: $arcql) {\n       item {\n         description\n         hypi {\n          id\n         }\n       }\n   }\n}\nvariables {\n   "arcql": "hypi.id = \'abc-123\'"\n}\n')),(0,i.kt)("p",null,"There are three steps to using variables:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Create the variable outside the operation in a ",(0,i.kt)("inlineCode",{parentName:"p"},"variables")," object. You can provide variables in the ",(0,i.kt)("a",{parentName:"p",href:"/docs/lowcode/ui-gql-playground"},"QUERY VARIABLES")," box on the user interface of Hypi. You need not specify the 'variables' keyword for that.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"The variable needs to be pass to the operation as an argument: ",(0,i.kt)("inlineCode",{parentName:"p"},"query($arcql:String!){"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Use the variable within the operation: ",(0,i.kt)("inlineCode",{parentName:"p"},"todos(arcql: $arcql) {")))),(0,i.kt)("p",null,"This process makes the query argument dynamic. You can change the value in the ",(0,i.kt)("inlineCode",{parentName:"p"},"variables")," object and keep the foundation of the query the same."),(0,i.kt)("p",null,"Using variables as arguments lets you dynamically update values in the variables object without changing the query and using the Hypi ",(0,i.kt)("inlineCode",{parentName:"p"},"arcql")," variable lets you filter, sort, and paginate data in the platform."),(0,i.kt)("p",null,"When the user sends a request, the UI combines the query and variable to make a JSON object and process the API."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'{  \n  "query: "query findTodoItems...",  \n  "variables": {  \n   "arcql": "hypi.id = ..."  \n  }  \n}\n')),(0,i.kt)("h2",{id:"nested-queries"},"Nested queries"),(0,i.kt)("p",null,"GraphQL query can have subqueries within it. So,nested queries can be executed.  Check out below example."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'query findTodoItem($filter:String, $subQuery: String) {  \n     todos(arcql: $filter) {  \n       item {  \n         listField(arcql: $subQuery){  \n           f1  \n         }  \n         description  \n         hypi {  \n          id  \n         }  \n       }  \n   }  \n}  \nvariables {  \n   "filter": "hypi.id = \'abc-123\'",  \n   "subQuery": "f1 ^ \'hello\'"  \n}\n')),(0,i.kt)("p",null,"Here, both ",(0,i.kt)("inlineCode",{parentName:"p"},"todos")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"listField")," have an argument called ",(0,i.kt)("inlineCode",{parentName:"p"},"arcql")," but the variables that set its value are different (",(0,i.kt)("inlineCode",{parentName:"p"},"$filer")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"$subQuery"),")"),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Refer ",(0,i.kt)("a",{parentName:"p",href:"/docs/lowcode/read-data"},"Read Data")," to understand Hypi's query functions. "))))}h.isMDXComponent=!0}}]);