"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2266],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),c=p(n),m=r,h=c["".concat(s,".").concat(m)]||c[m]||u[m]||l;return n?a.createElement(h,i(i({ref:t},d),{},{components:n})):a.createElement(h,i({ref:t},d))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=c;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var p=2;p<l;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},1332:function(e,t,n){var a=n(7294);t.Z=function(e){var t=e.children,n=e.hidden,r=e.className;return a.createElement("div",{role:"tabpanel",hidden:n,className:r},t)}},8515:function(e,t,n){n.d(t,{Z:function(){return d}});var a=n(7462),r=n(7294),l=n(2389),i=n(5394),o=n(6010),s="tabItem_tAz6";function p(e){var t,n,l,p=e.lazy,d=e.block,u=e.defaultValue,c=e.values,m=e.groupId,h=e.className,f=r.Children.map(e.children,(function(e){if((0,r.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),v=null!=c?c:f.map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes}})),k=(0,i.lx)(v,(function(e,t){return e.value===t.value}));if(k.length>0)throw new Error('Docusaurus error: Duplicate values "'+k.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var g=null===u?u:null!=(t=null!=u?u:null==(n=f.find((function(e){return e.props.default})))?void 0:n.props.value)?t:null==(l=f[0])?void 0:l.props.value;if(null!==g&&!v.some((function(e){return e.value===g})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+g+'" but none of its children has the corresponding value. Available values are: '+v.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var w=(0,i.UB)(),b=w.tabGroupChoices,y=w.setTabGroupChoices,N=(0,r.useState)(g),T=N[0],O=N[1],j=[],P=(0,i.o5)().blockElementScrollPositionUntilNextRender;if(null!=m){var E=b[m];null!=E&&E!==T&&v.some((function(e){return e.value===E}))&&O(E)}var x=function(e){var t=e.currentTarget,n=j.indexOf(t),a=v[n].value;a!==T&&(P(t),O(a),null!=m&&y(m,a))},C=function(e){var t,n=null;switch(e.key){case"ArrowRight":var a=j.indexOf(e.currentTarget)+1;n=j[a]||j[0];break;case"ArrowLeft":var r=j.indexOf(e.currentTarget)-1;n=j[r]||j[j.length-1]}null==(t=n)||t.focus()};return r.createElement("div",{className:"tabs-container"},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":d},h)},v.map((function(e){var t=e.value,n=e.label,l=e.attributes;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:T===t?0:-1,"aria-selected":T===t,key:t,ref:function(e){return j.push(e)},onKeyDown:C,onFocus:x,onClick:x},l,{className:(0,o.Z)("tabs__item",s,null==l?void 0:l.className,{"tabs__item--active":T===t})}),null!=n?n:t)}))),p?(0,r.cloneElement)(f.filter((function(e){return e.props.value===T}))[0],{className:"margin-vert--md"}):r.createElement("div",{className:"margin-vert--md"},f.map((function(e,t){return(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==T})}))))}function d(e){var t=(0,l.Z)();return r.createElement(p,(0,a.Z)({key:String(t)},e))}},7656:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return p},contentTitle:function(){return d},metadata:function(){return u},toc:function(){return c},default:function(){return h}});var a=n(7462),r=n(3366),l=(n(7294),n(3905)),i=n(8515),o=n(1332),s=["components"],p={id:"password-reminder",title:"Password Reminder",sidebar_label:"Password Reminder",slug:"/lowcode/password-reminder"},d=void 0,u={unversionedId:"lowcode/password-reminder",id:"lowcode/password-reminder",title:"Password Reminder",description:"Sometimes users forget the password for applications. Hence, applications need to provide the password reminder utility to their users. Hypi facilitates password reminder functionality to its client.",source:"@site/content/lowcode/password-reminder.md",sourceDirName:"lowcode",slug:"/lowcode/password-reminder",permalink:"/docs/lowcode/password-reminder",editUrl:"https://github.com/hypi-universe/docs/edit/master/content/lowcode/password-reminder.md",tags:[],version:"current",frontMatter:{id:"password-reminder",title:"Password Reminder",sidebar_label:"Password Reminder",slug:"/lowcode/password-reminder"},sidebar:"docs",previous:{title:"OAuth2 Login",permalink:"/docs/lowcode/oauth2login"},next:{title:"Overview",permalink:"/docs/lowcode/serverless"}},c=[{value:"Example",id:"example",children:[],level:3}],m={toc:c};function h(e){var t=e.components,n=(0,r.Z)(e,s);return(0,l.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"Sometimes users forget the password for applications. Hence, applications need to provide the password reminder utility to their users. Hypi facilitates password reminder functionality to its client."),(0,l.kt)("p",null,"Client applications can reset Account\u2019s password using Hypi. Hypi has an in-built ",(0,l.kt)("inlineCode",{parentName:"p"},"PasswordReminder"),"\xa0data type. Create a ",(0,l.kt)("inlineCode",{parentName:"p"},"PasswordReminder")," object and a verification code will be sent to the user\u2019s email id. In turn, Hypi will accept the new password and the verification code in the form of JSON through an endpoint. And the account password will get reset."),(0,l.kt)("p",null,"Let\u2019s look at the ",(0,l.kt)("inlineCode",{parentName:"p"},"PasswordReminder")," structure."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"type PasswordReminder\xa0{\n    valid:\xa0Boolean\n    code:\xa0String\n    to:\xa0Email!\n    from:\xa0String\n    subject:\xa0String\n    htmlMessage:\xa0String\n    plainTextMessage:\xa0String\n}\n")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"Parameter")),(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"Description")),(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"Example")))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"valid")),(0,l.kt)("td",{parentName:"tr",align:null},"The valid field is \u2018true\u2019 when the object is created. It becomes \u2018false\u2019 after the password reset."),(0,l.kt)("td",{parentName:"tr",align:null},"True")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"code")),(0,l.kt)("td",{parentName:"tr",align:null},"The verification \u2018code\u2019 is included in the email sent. Generated by the server. No need to provide the value"),(0,l.kt)("td",{parentName:"tr",align:null},"01F21B593SD5VK JQYWS8N38H1F")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"to")),(0,l.kt)("td",{parentName:"tr",align:null},"The email account of the user"),(0,l.kt)("td",{parentName:"tr",align:null},"Email data type")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"from")),(0,l.kt)("td",{parentName:"tr",align:null},"The email from which the email will be sent to the user. You MUST have a Hypi email app configured to send email from this address. (Optional field)"),(0,l.kt)("td",{parentName:"tr",align:null},"Valid email id")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"subject")),(0,l.kt)("td",{parentName:"tr",align:null},'The subject of the email, this is a velocity template - Hypi provides a default such as "Please verify your email to"'),(0,l.kt)("td",{parentName:"tr",align:null},"\u201cChange Password\u201d")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"htmlMessage")),(0,l.kt)("td",{parentName:"tr",align:null},"The HTML contents of the email. This is a Velocity template that will be rendered before being sent."),(0,l.kt)("td",{parentName:"tr",align:null},"-")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"plainTextMessage")),(0,l.kt)("td",{parentName:"tr",align:null},"A plain text version of the email"),(0,l.kt)("td",{parentName:"tr",align:null},"-")))),(0,l.kt)("h3",{id:"example"},"Example"),(0,l.kt)("p",null,"Create a passwordReminder object with required values such as email id, subject, etc. Other fields are optional. A valid passwordReminder object will get created and the verification code gets generated. \xa0The generated code in the\xa0",(0,l.kt)("inlineCode",{parentName:"p"},"code"),"\xa0field can be referenced using $!{parent.code} in the\xa0",(0,l.kt)("inlineCode",{parentName:"p"},"htmlMessage"),"\xa0or\xa0",(0,l.kt)("inlineCode",{parentName:"p"},"plainTextMessage"),"\xa0fields."),(0,l.kt)(i.Z,{defaultValue:"query",values:[{label:"GraphQL Query",value:"query"},{label:"Input Data",value:"data"},{label:"Response",value:"response"}],mdxType:"Tabs"},(0,l.kt)(o.Z,{value:"query",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"mutation Upsert($values: HypiUpsertInputUnion!) {\n  upsert(values: $values) {\n    id\n  }\n}\n"))),(0,l.kt)(o.Z,{value:"data",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n\n    "values": {\n    "PasswordReminder": [\n        {\n          "to" : {\n            "value": "abc@gmail.com",\n            "type": "work"\n          },\n          "subject": "Change Password",     \n        }\n     ]\n  }\n}\n'))),(0,l.kt)(o.Z,{value:"response",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "upsert": [\n      {\n        "id": "01F276EH3XM47XWG97HP4XS02H"\n      }\n    ]\n  }\n}\n')))),(0,l.kt)("p",null,"Verify the PasswordReminder object details and check the email in the \u2018to\u2019 field for the verification code."),(0,l.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Email:")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"Hi,"),(0,l.kt)("p",{parentName:"div"},"Your password reset code is 01F21B593SD5VKJQYWS8N38H1F."))),(0,l.kt)("p",null,"In the HTML / Plain message, you should also provide a link to a URL where the user can enter their new password."),(0,l.kt)("p",null,"Include the code in this URL e.g.\n",(0,l.kt)("inlineCode",{parentName:"p"},"https://my-app.com/reset-password?code=$!{parent.code}"),"."),(0,l.kt)("p",null,"When the user gets to this page, you will have the password reset code in the URL query string. Get this code from the URL and when the user enters the new password, make a POST request to the Hypi API as follows."),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"POST  <hypi-domain>/email/reset/\\<domain\\>")),(0,l.kt)("p",null,"Here \\<domain",">"," is app instance domain and hypi domain is ",(0,l.kt)("a",{parentName:"p",href:"#"},"https://api.hypi.app"),"."),(0,l.kt)("p",null,"E.g.  ",(0,l.kt)("a",{parentName:"p",href:"#"},"https://api.hypi.app/email/reset/scalability.apps.hypi.app")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"scalability.apps.hypi.app")," is the instance domain on Hypi."),(0,l.kt)("p",null,"In the body of the request send a JSON like this:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "code": "\\<the-code-from-the-URL>", \n    "password": "\\<the-user\'s-new-password>"\n}\n')),(0,l.kt)("p",null,"Send curl Query to reset password:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'curl --data-raw \'{"code":"01F21B593SD5VKJQYWS8N38H1F","password":"cool"}\' --header \u201ccontent-type:application/json\u201d https://api.hypi.app/email/reset/scalability.apps.hypi.app\n')),(0,l.kt)("p",null,"Hypi will change the user's password and return ",(0,l.kt)("inlineCode",{parentName:"p"},"HTTP status 200"),"."),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"passwordReminder")," object becomes invalid with this."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "find": {\n      "edges": [\n        {\n          "node": {\n            "code": "01F21B593SD5VKJQYWS8N38H1F",\n            "valid": false,\n            "htmlMessage": "  Hi ,<br />\\n Your password reset code is .\\n  "\n          },\n          "cursor": "01F21B59239BT23Z6MA7QQ43FH"\n        }\n      ]\n    }\n  }\n}\n')))}h.isMDXComponent=!0}}]);