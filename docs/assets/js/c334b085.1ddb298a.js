"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3751],{3905:function(e,n,t){t.d(n,{Zo:function(){return c},kt:function(){return m}});var a=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=a.createContext({}),u=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},c=function(e){var n=u(e.components);return a.createElement(s.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),d=u(t),m=r,f=d["".concat(s,".").concat(m)]||d[m]||p[m]||l;return t?a.createElement(f,o(o({ref:n},c),{},{components:t})):a.createElement(f,o({ref:n},c))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=t.length,o=new Array(l);o[0]=d;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var u=2;u<l;u++)o[u]=t[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},21332:function(e,n,t){var a=t(67294);n.Z=function(e){var n=e.children,t=e.hidden,r=e.className;return a.createElement("div",{role:"tabpanel",hidden:t,className:r},n)}},8515:function(e,n,t){t.d(n,{Z:function(){return c}});var a=t(87462),r=t(67294),l=t(72389),o=t(35394),i=t(86010),s="tabItem_tAz6";function u(e){var n,t,l,u=e.lazy,c=e.block,p=e.defaultValue,d=e.values,m=e.groupId,f=e.className,v=r.Children.map(e.children,(function(e){if((0,r.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),h=null!=d?d:v.map((function(e){var n=e.props;return{value:n.value,label:n.label,attributes:n.attributes}})),y=(0,o.lx)(h,(function(e,n){return e.value===n.value}));if(y.length>0)throw new Error('Docusaurus error: Duplicate values "'+y.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var b=null===p?p:null!=(n=null!=p?p:null==(t=v.find((function(e){return e.props.default})))?void 0:t.props.value)?n:null==(l=v[0])?void 0:l.props.value;if(null!==b&&!h.some((function(e){return e.value===b})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+b+'" but none of its children has the corresponding value. Available values are: '+h.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var g=(0,o.UB)(),k=g.tabGroupChoices,w=g.setTabGroupChoices,N=(0,r.useState)(b),C=N[0],T=N[1],x=[],O=(0,o.o5)().blockElementScrollPositionUntilNextRender;if(null!=m){var j=k[m];null!=j&&j!==C&&h.some((function(e){return e.value===j}))&&T(j)}var I=function(e){var n=e.currentTarget,t=x.indexOf(n),a=h[t].value;a!==C&&(O(n),T(a),null!=m&&w(m,a))},E=function(e){var n,t=null;switch(e.key){case"ArrowRight":var a=x.indexOf(e.currentTarget)+1;t=x[a]||x[0];break;case"ArrowLeft":var r=x.indexOf(e.currentTarget)-1;t=x[r]||x[x.length-1]}null==(n=t)||n.focus()};return r.createElement("div",{className:"tabs-container"},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":c},f)},h.map((function(e){var n=e.value,t=e.label,l=e.attributes;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:C===n?0:-1,"aria-selected":C===n,key:n,ref:function(e){return x.push(e)},onKeyDown:E,onFocus:I,onClick:I},l,{className:(0,i.Z)("tabs__item",s,null==l?void 0:l.className,{"tabs__item--active":C===n})}),null!=t?t:n)}))),u?(0,r.cloneElement)(v.filter((function(e){return e.props.value===C}))[0],{className:"margin-vert--md"}):r.createElement("div",{className:"margin-vert--md"},v.map((function(e,n){return(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==C})}))))}function c(e){var n=(0,l.Z)();return r.createElement(u,(0,a.Z)({key:String(n)},e))}},56502:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return u},contentTitle:function(){return c},metadata:function(){return p},toc:function(){return d},default:function(){return f}});var a=t(87462),r=t(63366),l=(t(67294),t(3905)),o=t(8515),i=t(21332),s=["components"],u={id:"gql-interfaces",title:"GraphQL Interfaces",sidebar_label:"GraphQL Interfaces",slug:"/lowcode/gql-interfaces"},c=void 0,p={unversionedId:"lowcode/gql-interfaces",id:"lowcode/gql-interfaces",title:"GraphQL Interfaces",description:"GraphQL supports interfaces similar to other type systems. Interfaces are abstract types that hold a certain set of fields. A type must include these fields to implement the interface.",source:"@site/content/lowcode/gql-interfaces.md",sourceDirName:"lowcode",slug:"/lowcode/gql-interfaces",permalink:"/docs/lowcode/gql-interfaces",editUrl:"https://github.com/hypi-universe/docs/edit/master/content/lowcode/gql-interfaces.md",tags:[],version:"current",frontMatter:{id:"gql-interfaces",title:"GraphQL Interfaces",sidebar_label:"GraphQL Interfaces",slug:"/lowcode/gql-interfaces"},sidebar:"docs",previous:{title:"GraphQL Mutations",permalink:"/docs/lowcode/gql-mutations"},next:{title:"Core",permalink:"/docs/lowcode/core"}},d=[],m={toc:d};function f(e){var n=e.components,t=(0,r.Z)(e,s);return(0,l.kt)("wrapper",(0,a.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"GraphQL supports ",(0,l.kt)("inlineCode",{parentName:"p"},"interfaces")," similar to other type systems. Interfaces are abstract types that hold a certain set of fields. A type must include these fields to implement the interface."),(0,l.kt)("p",null,"Interfaces are powerful, and a great way to build and use GraphQL schemas through the use of abstraction. Abstract types can't be used directly in the schema, but can be used as building blocks for creating explicit types."),(0,l.kt)("p",null,"For example, you could have an interface Car that represents any model of a Car in a trade show:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"interface Car {\n  id: ID!\n  name: String!\n  model: String\n}\n")),(0,l.kt)("p",null,"This means that any type that implements Car needs to have these exact fields, with these arguments and return types."),(0,l.kt)("p",null,"For example, here are some types of brands that might implement Car:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"type Audi implements Car {\n  id: ID!\n  name: String!\n  model: String\n}\ntype Bentley implements Car {\n  id: ID!\n  name: String!\n  model: String\n}\n")),(0,l.kt)("p",null,"Now it can be used in another type like this:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"type Customer {\n    owns: [Car!]\n}\n")),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"owns")," field uses the ",(0,l.kt)("inlineCode",{parentName:"p"},"Car")," interface. This allows ",(0,l.kt)("inlineCode",{parentName:"p"},"owns")," to have values of type ",(0,l.kt)("inlineCode",{parentName:"p"},"Audi")," and  ",(0,l.kt)("inlineCode",{parentName:"p"},"Bently"),"."),(0,l.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"IMPORTANT")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"When creating or updating a customer object, the ",(0,l.kt)("inlineCode",{parentName:"p"},"hypi.impl")," field MUST be specified on each object in the ",(0,l.kt)("inlineCode",{parentName:"p"},"owns")," array.  Each object of type ",(0,l.kt)("inlineCode",{parentName:"p"},"owns")," must tell Hypi if it is an Audi or a Bently. "),(0,l.kt)("p",{parentName:"div"},"The ",(0,l.kt)("inlineCode",{parentName:"p"},"hypi.impl")," field is needed for upsert, not for queries. For queries on each implementation, you MUST use an inline fragment i.e. "),(0,l.kt)("p",{parentName:"div"},(0,l.kt)("inlineCode",{parentName:"p"},"... on <Impl> { <impl specific fields> }")))),(0,l.kt)("p",null,"Here follows the example that inserts data in the Customer object using an interface Car."),(0,l.kt)(o.Z,{defaultValue:"query",values:[{label:"GraphQL Query",value:"query"},{label:"Input Data",value:"data"},{label:"Response",value:"response"}],mdxType:"Tabs"},(0,l.kt)(i.Z,{value:"query",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"mutation Upsert($values: HypiUpsertInputUnion!) {\n    upsert(values: $values) {\n      id\n    }\n}\n"))),(0,l.kt)(i.Z,{value:"data",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'{\n  "values": {\n      "Customer": {\n        "owns": [\n          { \n            "hypi": \n            { \n                "impl": "Audi" \n            },\n            "id": 1, \n            "name": "Audi Class", \n            "model": "aux" \n          },\n          {\n            "hypi": \n                { \n                "impl": "Bentley" \n              },\n            "id": 2,\n            "name": "Bentley Class",\n            "model": "vx"\n          }\n        ]\n      }\n    }\n}\n'))),(0,l.kt)(i.Z,{value:"response",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'{\n  "data": {\n    "upsert": [\n      {\n        "id": "01F2NDF0BJ8T5YK8SW1JWKX8QW"\n      }\n    ]\n  }\n}\n')))),(0,l.kt)("p",null,"Check the use of inline fragments to retrieve interface data. (... on Audi { model })"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'{\n  find(type: Customer, arcql: "*") {\n    edges {\n      node {\n        ... on Customer {\n         owns {\n             #Retrieve data from interfaces\n            ... on Audi { model }\n            ... on Bentley { model }\n            name\n          }\n        }\n      }\n      cursor\n    }\n  }\n}\n')),(0,l.kt)("p",null,"You may use sub-queries on the interface fields. (arcql: \"owns.model = 'vx'\").  Check the below example."),(0,l.kt)(o.Z,{defaultValue:"query",values:[{label:"GraphQL Query",value:"query"},{label:"Response",value:"response"}],mdxType:"Tabs"},(0,l.kt)(i.Z,{value:"query",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'{  \n  find(type: Customer, arcql: "*") {  \n    edges {  \n      node {  \n        ... on Customer {  \n         owns(arcql: "model = \'vx\'") {  \n             #Retrieve data from interfaces  \n            ... on Audi { model }  \n            ... on Bentley { model }  \n            name  \n          }  \n        }  \n      }  \n      cursor  \n    }  \n  }  \n}\n'))),(0,l.kt)(i.Z,{value:"response",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'{  \n  "data": {  \n    "find": {  \n      "edges": [  \n        {  \n          "node": {  \n            "owns": [  \n              {  \n                "model": "vx",  \n                "name": "Bentley Class"  \n              }  \n            ]  \n          },  \n          "cursor": "01F45A70PJ8DDPSPHEYNEFH513"  \n        }  \n      ]  \n    }  \n  }  \n}\n')))))}f.isMDXComponent=!0}}]);