"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[564],{3905:function(e,n,t){t.d(n,{Zo:function(){return p},kt:function(){return m}});var a=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var u=a.createContext({}),s=function(e){var n=a.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},p=function(e){var n=s(e.components);return a.createElement(u.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},c=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,r=e.originalType,u=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),c=s(t),m=o,k=c["".concat(u,".").concat(m)]||c[m]||d[m]||r;return t?a.createElement(k,l(l({ref:n},p),{},{components:t})):a.createElement(k,l({ref:n},p))}));function m(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=t.length,l=new Array(r);l[0]=c;var i={};for(var u in n)hasOwnProperty.call(n,u)&&(i[u]=n[u]);i.originalType=e,i.mdxType="string"==typeof e?e:o,l[1]=i;for(var s=2;s<r;s++)l[s]=t[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}c.displayName="MDXCreateElement"},1332:function(e,n,t){var a=t(7294);n.Z=function(e){var n=e.children,t=e.hidden,o=e.className;return a.createElement("div",{role:"tabpanel",hidden:t,className:o},n)}},8515:function(e,n,t){t.d(n,{Z:function(){return p}});var a=t(7462),o=t(7294),r=t(2389),l=t(5394),i=t(6010),u="tabItem_tAz6";function s(e){var n,t,r,s=e.lazy,p=e.block,d=e.defaultValue,c=e.values,m=e.groupId,k=e.className,f=o.Children.map(e.children,(function(e){if((0,o.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),h=null!=c?c:f.map((function(e){var n=e.props;return{value:n.value,label:n.label,attributes:n.attributes}})),b=(0,l.lx)(h,(function(e,n){return e.value===n.value}));if(b.length>0)throw new Error('Docusaurus error: Duplicate values "'+b.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var v=null===d?d:null!=(n=null!=d?d:null==(t=f.find((function(e){return e.props.default})))?void 0:t.props.value)?n:null==(r=f[0])?void 0:r.props.value;if(null!==v&&!h.some((function(e){return e.value===v})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+v+'" but none of its children has the corresponding value. Available values are: '+h.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var y=(0,l.UB)(),g=y.tabGroupChoices,N=y.setTabGroupChoices,w=(0,o.useState)(v),T=w[0],j=w[1],B=[],I=(0,l.o5)().blockElementScrollPositionUntilNextRender;if(null!=m){var D=g[m];null!=D&&D!==T&&h.some((function(e){return e.value===D}))&&j(D)}var x=function(e){var n=e.currentTarget,t=B.indexOf(n),a=h[t].value;a!==T&&(I(n),j(a),null!=m&&N(m,a))},A=function(e){var n,t=null;switch(e.key){case"ArrowRight":var a=B.indexOf(e.currentTarget)+1;t=B[a]||B[0];break;case"ArrowLeft":var o=B.indexOf(e.currentTarget)-1;t=B[o]||B[B.length-1]}null==(n=t)||n.focus()};return o.createElement("div",{className:"tabs-container"},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":p},k)},h.map((function(e){var n=e.value,t=e.label,r=e.attributes;return o.createElement("li",(0,a.Z)({role:"tab",tabIndex:T===n?0:-1,"aria-selected":T===n,key:n,ref:function(e){return B.push(e)},onKeyDown:A,onFocus:x,onClick:x},r,{className:(0,i.Z)("tabs__item",u,null==r?void 0:r.className,{"tabs__item--active":T===n})}),null!=t?t:n)}))),s?(0,o.cloneElement)(f.filter((function(e){return e.props.value===T}))[0],{className:"margin-vert--md"}):o.createElement("div",{className:"margin-vert--md"},f.map((function(e,n){return(0,o.cloneElement)(e,{key:n,hidden:e.props.value!==T})}))))}function p(e){var n=(0,r.Z)();return o.createElement(s,(0,a.Z)({key:String(n)},e))}},2909:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return s},contentTitle:function(){return p},metadata:function(){return d},toc:function(){return c},default:function(){return k}});var a=t(7462),o=t(3366),r=(t(7294),t(3905)),l=t(8515),i=t(1332),u=["components"],s={id:"references",title:"Creating and removing one-to-one and one-to-many references",sidebar_label:"References",slug:"/lowcode/references"},p=void 0,d={unversionedId:"lowcode/references",id:"lowcode/references",title:"Creating and removing one-to-one and one-to-many references",description:"Hypi can provide one-to-one or one-to-many references for tables.",source:"@site/content/lowcode/references.md",sourceDirName:"lowcode",slug:"/lowcode/references",permalink:"/docs/lowcode/references",editUrl:"https://github.com/hypi-universe/docs/edit/master/content/lowcode/references.md",tags:[],version:"current",frontMatter:{id:"references",title:"Creating and removing one-to-one and one-to-many references",sidebar_label:"References",slug:"/lowcode/references"},sidebar:"docs",previous:{title:"ArcQL filtering",permalink:"/docs/lowcode/arcql"},next:{title:"Authorisation",permalink:"/docs/lowcode/authorisation"}},c=[{value:"Examples",id:"examples",children:[{value:"One-to-One Reference",id:"one-to-one-reference",children:[],level:3},{value:"One-to-Many Reference:",id:"one-to-many-reference",children:[],level:3}],level:2}],m={toc:c};function k(e){var n=e.components,t=(0,o.Z)(e,u);return(0,r.kt)("wrapper",(0,a.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Hypi can provide ",(0,r.kt)("inlineCode",{parentName:"p"},"one-to-one")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"one-to-many")," references for tables."),(0,r.kt)("p",null,"Let\u2019s say you want to connect Table A to Table B through one common field \u2018C\u2019. So, table A has this field C of type B. This is the one-to-one reference. If field C is an array or list of type B, it is a one-to-many kind of reference."),(0,r.kt)("p",null,"For creating a reference, Hypi has the built-in function ",(0,r.kt)("inlineCode",{parentName:"p"},"link"),". The references can be removed using the ",(0,r.kt)("inlineCode",{parentName:"p"},"unlink")," function."),(0,r.kt)("p",null,"Let\u2019s check the signatures of link and unlink functions."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"link(\n    from:HypiMutationType!\n    to:HypiMutationType!\n    via:String!\n    whereFromID:String!\n    andToID:String!\n):Boolean!\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"unlink(\n    from:HypiMutationType!\n    to:HypiMutationType!\n    via:String!\n    whereFromID:String!\n    andToID:String!\n):Boolean!\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Parameter")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Example")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"from")),(0,r.kt)("td",{parentName:"tr",align:null},"The data type from where reference needs to be created"),(0,r.kt)("td",{parentName:"tr",align:null},"from: \u2018Author\u2019")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"to")),(0,r.kt)("td",{parentName:"tr",align:null},"The data type to be referred"),(0,r.kt)("td",{parentName:"tr",align:null},"to: \u2018Book\u2019")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"via")),(0,r.kt)("td",{parentName:"tr",align:null},"The field of object \u2018to\u2019 in the object \u2018from\u2019"),(0,r.kt)("td",{parentName:"tr",align:null},"Booklist")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"whereFromID")),(0,r.kt)("td",{parentName:"tr",align:null},"Hypi ID of the Object of type \u2018from\u2019 that needs an entry of object \u2018to\u2019"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2018Author1\u2019")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"andToID")),(0,r.kt)("td",{parentName:"tr",align:null},"Hypi ID of the Object of type \u2018to\u2019 that needs to be entered into the object of type \u2018from\u2019"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2018Book1\u2019")))),(0,r.kt)("h2",{id:"examples"},"Examples"),(0,r.kt)("p",null,"To go through examples, we will need below schema."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"type Book {\n    title:\xa0String\n    authorid:\xa0Int\n    price:\xa0Float\n}\n\ntype Author\xa0{\n    name:\xa0String\n    age:\xa0Int\n    bestbook:\xa0Book\n    booklist:\xa0[Book!]\n}\n")),(0,r.kt)("p",null,"Here, the field ",(0,r.kt)("inlineCode",{parentName:"p"},"bestbook")," will be used to generate ",(0,r.kt)("inlineCode",{parentName:"p"},"one-to-one reference")," between table ",(0,r.kt)("inlineCode",{parentName:"p"},"Author")," and table ",(0,r.kt)("inlineCode",{parentName:"p"},"Book"),". Also, the field ",(0,r.kt)("inlineCode",{parentName:"p"},"booklist")," will be used to generate ",(0,r.kt)("inlineCode",{parentName:"p"},"one-to-many")," kind of references."),(0,r.kt)("p",null,"Let\u2019s add data in the table Author and table Book as follows."),(0,r.kt)(l.Z,{defaultValue:"query",values:[{label:"GraphQL Query",value:"query"},{label:"Input Data",value:"data"}],mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"query",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"\nmutation Upsert($values: HypiUpsertInputUnion!) {\n  upsert(values: $values) {\n    id\n  }\n}\n"))),(0,r.kt)(i.Z,{value:"data",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'#Author Table\n\n{\n  "values": {\n    "Author": [\n      {\n        "hypi": {\n          "id": "Author1"\n        },\n        "name": "Dan Brown",\n        "age": 56,\n        "booklist": [\n          {\n            "title": "Da Vinci Code",\n            "authorid": 1\n          },\n          {\n            "title": "The Last Symbol",\n            "authorid": 1\n          }\n        ]\n      }\n    ]\n  }\n}\n\n#Book Table\n\n{\n  "values": {\n    "Book": [\n      {\n        "hypi": {"id": "Book1"},\n        "title":  "Inferno",\n        "authorid": 1\n      }       \n    ]\n  }\n}      \n')))),(0,r.kt)("h3",{id:"one-to-one-reference"},"One-to-One Reference"),(0,r.kt)("p",null,"If you want to enter ",(0,r.kt)("inlineCode",{parentName:"p"},"Book1")," as the bestbook of Author1, you may link Author1 with Book1 via field ",(0,r.kt)("inlineCode",{parentName:"p"},"bestbook"),"."),(0,r.kt)(l.Z,{defaultValue:"query",values:[{label:"GraphQL Query",value:"query"},{label:"Response",value:"response"}],mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"query",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'mutation {\n    link(from:Author,to:Book,\n    via:"bestbook",whereFromID:"Author1",andToID:"Book1")\n}\n'))),(0,r.kt)(i.Z,{value:"response",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "link": true\n  }\n}\n')))),(0,r.kt)("p",null,"Linking the tables results in the insertion of data from Book1 into the field Bestbook of Author1. Now, retrieve data of Author using find function and verify."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "find": {\n      "edges": [\n        {\n          "node": {\n            "name": "Dan Brown",\n            "age": 56,\n            //Book1 Inserted\n            "bestbook": {\n              "title": "Inferno",\n              "authorid": 1\n            },\n            "booklist": [\n              {\n                "title": "Da Vinci Code",\n                "authorid": 1\n              },\n              {\n                "title": "The Last Symbol",\n                "authorid": 1\n              }\n            ]\n          },\n          "cursor": "Author1"\n        }\n      ]\n    }\n  }\n}\n')),(0,r.kt)("p",null,"You may remove the reference using the unlink function."),(0,r.kt)(l.Z,{defaultValue:"query",values:[{label:"GraphQL Query",value:"query"},{label:"Response",value:"response"}],mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"query",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'mutation{\n    unlink(from:Author,to:Book,\n    via:"bestbook",whereFromID:"Author1",andToID:"Book1")\n}\n'))),(0,r.kt)(i.Z,{value:"response",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "unlink": true\n  }\n}\n')))),(0,r.kt)("p",null,"This results in the setting of the value of bestbook as null. Book1 data remains as it is. But the object simply gets removed from the field bestbook of object Author1."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "find": {\n      "edges": [\n        {\n          "node": {\n            "name": "Dan Brown",\n            "age": 56,\n             //Book1 entry removed\n            "bestbook": null,\n            "booklist": [\n              {\n                "title": "Da Vinci Code",\n                "authorid": 1\n              },\n              {\n                "title": "The Last Symbol",\n                "authorid": 1\n              }\n            ]\n          },\n          "cursor": "Author1"\n        }\n      ]\n    }\n  }\n}\n')),(0,r.kt)("h3",{id:"one-to-many-reference"},"One-to-Many Reference:"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"link")," function works on an array as well. You may link to the booklist field from the Author1 object to Book1. So an entry of Book1 gets added into the booklist array of Author1."),(0,r.kt)(l.Z,{defaultValue:"query",values:[{label:"GraphQL Query",value:"query"},{label:"Response",value:"response"}],mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"query",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'mutation{\n    link(from:Author,to:Book,\n    via:"booklist",whereFromID:"Author1",andToID:"Book1")\n}\n'))),(0,r.kt)(i.Z,{value:"response",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "link": true\n  }\n}\n')))),(0,r.kt)("p",null,"You may retrieve data from Author1 using find function."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "find": {\n      "edges": [\n        {\n          "node": {\n            "name": "Dan Brown",\n            "age": 56,\n            "bestbook": null,\n            "booklist": [\n              {\n                "title": "Da Vinci Code",\n                "authorid": 1\n              },\n              {\n                "title": "The Last Symbol",\n                "authorid": 1\n              },\n                //Book1 inserted in the array\n              {\n                "title": "Inferno",\n                "authorid": 1\n              }\n            ]\n          },\n          "cursor": "Author1"\n        }\n      ]\n    }\n  }\n}\n')),(0,r.kt)("p",null,"Unlinking the reference would simply remove the entry Book1 from the booklist. The Book1 object would not get deleted from the platform. But its entry would be removed from the array. "),(0,r.kt)(l.Z,{defaultValue:"query",values:[{label:"GraphQL Query",value:"query"},{label:"Response",value:"response"}],mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"query",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'mutation{\n    unlink(from:Author,to:Book,\n    via:"booklist",whereFromID:"Author1",andToID:"Book1")\n}\n'))),(0,r.kt)(i.Z,{value:"response",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "unlink": true\n  }\n}\n')))),(0,r.kt)("p",null,"Retrieve Author1 data to get following result."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "find": {\n      "edges": [\n        {\n          "node": {\n            "name": "Dan Brown",\n            "age": 56,\n            "bestbook": null,\n            "booklist": [\n              {\n                "title": "Da Vinci Code",\n                "authorid": 1\n              },\n              {\n                "title": "The Last Symbol",\n                "authorid": 1\n              }\n                //Book1 removed from the array\n            ]\n          },\n          "cursor": "Author1"\n        }\n      ]\n    }\n  }\n}\n')),(0,r.kt)("p",null,"Using link and unlink function you may add or remove objects from the array of objects."),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"Read More...")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://hypi.dev/t/how-to-create-a-link-between-two-objects-using-the-link-function/103"},"How to create a link between two objects using the link function")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://hypi.dev/t/how-to-create-a-link-between-two-objects-by-using-hypi-id/114"},"How to create a link between two objects by using ",(0,r.kt)("inlineCode",{parentName:"a"},"hypi.id"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://hypi.dev/t/how-to-remove-a-link-between-two-objects-using-the-unlink-function/102"},"How to remove a link between two objects using the unlink function")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://hypi.dev/t/working-with-one-to-one-and-one-to-many-relationships-in-hypi-s-low-code-platform/282"},"Working with one to one and one to many relationships in Hypi\u2019s low-code platform"))))))}k.isMDXComponent=!0}}]);